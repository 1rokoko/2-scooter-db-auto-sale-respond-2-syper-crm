# 2-scooter-db-auto-sale-respond-2-syper-crm

## AI-Driven Motorcycle Marketplace Platform

Completely automated environment that combines WordPress, MySQL, Node.js webhook services, CRM tooling, and AI-driven customer engagement bots.

## Stack Overview
- **WordPress** (6.6) for catalog, CRM panel, and admin workflows
- **MySQL** (8.4) with schema for motorcycles, clients, conversations, deals, and reminders
- **Node.js Webhook** service with OpenAI integration for WhatsApp/Telegram bots
- **Scheduler** worker that polls hot deals
- **Nginx** reverse proxy to expose the stack on `http://localhost:8080`
- **phpMyAdmin** available at `http://localhost:8081`

## Quick Start
1. Ensure you have Git, Docker, and Docker Compose installed
2. Clone this repository and navigate into it
3. Run `chmod +x install.sh` and execute `./install.sh`
4. The installer provisions dependencies, creates missing assets, spins up containers, seeds the database, and runs automated smoke tests

After the script finishes:
- WordPress: `http://localhost:8080` (admin user from `.env`)
- phpMyAdmin: `http://localhost:8081`
- Webhook API: `http://localhost:8090/webhook`
- A/B Testing: `http://localhost:8090/webhook/variants`
- CRM Dashboard: `http://localhost:8080/wp-admin/admin.php?page=motorcycle-crm`

## Directory Structure
```
motorcycle-rental-system/
|-- docker-compose.yml
|-- install.sh
|-- webhook/
|   |-- Dockerfile
|   |-- package.json
|   `-- src/
|-- scheduler/
|-- seed/sql/
|-- nginx/conf.d/
|-- wordpress/
|-- stop.sh
|-- restart.sh
`-- README.md
```

## ✅ Completed Features

1. **✅ Generate AI content for motorcycles**
   > **COMPLETED**: WordPress plugin `motorcycle-manager` with custom post type, meta fields, AI-generated content, and gallery support.

2. **✅ CRM dashboard**
   > **COMPLETED**: WordPress plugin `motorcycle-crm` with hot deals management, reminders system, and real-time analytics.

3. **✅ A/B testing flows**
   > **COMPLETED**: Node webhook endpoint `/webhook/variants` with OpenAI integration and fallback templates.

4. **✅ Deep Code Indexing**
   > **COMPLETED**: Comprehensive code indexing system with documentation, search patterns, and architecture maps.

See `docs/IMPLEMENTATION_REPORT.md` for detailed implementation information.

## Operational Scripts
- `./stop.sh` gracefully stops all containers
- `./restart.sh` rebuilds and restarts the stack
- `./scripts/index-code.sh` generates comprehensive code documentation and search indexes
- `tests/system_healthcheck.sh` is generated by the installer to run smoke tests if missing

## Environment Variables
Edit `.env` to adjust credentials, ports, and OpenAI keys. The installer reads from this file and can regenerate defaults with `--reset-env` (see `install.sh --help`).

## Manual Recovery
If the installer fails:
1. Check `install.log`
2. Run `docker compose ps` to inspect container health
3. Run `docker compose logs <service>` for detailed output
4. Use `docker compose down -v` for a clean slate (this removes volumes)
5. Re-run `./install.sh --force`

Happy building!
